"use strict";var listDay=["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],listMonth=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],buttonFastAdd=document.getElementById("btn-fast-add"),pupopFastAdd=document.getElementById("popup-fast-add"),inputFastAdd=document.getElementById("pfa-input"),statusFastAdd=document.getElementById("pfa-status"),buttonFastAddSubmit=document.getElementById("pfa-btn-submit"),buttonFastAddCancel=document.getElementById("pfa-btn-canсel"),buttonFastAddClose=document.getElementById("pfa-btn-close"),buttonUpdate=document.getElementById("btn-update"),inputSerach=document.getElementById("input-search"),buttonEarlier=document.getElementById("btn-earlier"),buttonLater=document.getElementById("btn-later"),buttonCurrent=document.getElementById("btn-current"),buttonMonth=document.getElementById("btn-month"),pupopMonth=document.getElementById("popup-month"),buttonYear=document.getElementById("btn-year"),calendarArea=document.getElementById("calendar"),dateCurrent=new Date,dateSelected=new Date;dateSelected.setFullYear(dateCurrent.getFullYear(),dateCurrent.getMonth(),dateCurrent.getDate());var timer,setCurrentDate=function(){dateCurrent=new Date,(dateSelected=new Date).setFullYear(dateCurrent.getFullYear(),dateCurrent.getMonth(),dateCurrent.getDate())},setEarlierMonth=function(){dateSelected.setMonth(dateSelected.getMonth()-1)},setLaterMonth=function(){dateSelected.setMonth(dateSelected.getMonth()+1)},getMonthDay=function(){var t=[],e=dateSelected.getMonth(),n=new Date;n.setFullYear(dateSelected.getFullYear(),e,dateSelected.getDate()),n.setDate(1);var a=0==n.getDay()?7:n.getDay();n.setDate(n.getDate()-a+1);for(d=0;d<7;d++)t.push([n.getFullYear(),n.getMonth(),n.getDate()]),n.setDate(n.getDate()+1);for(;n.getMonth()==e;)for(var d=0;d<7;d++)t.push([n.getFullYear(),n.getMonth(),n.getDate()]),n.setDate(n.getDate()+1);return t},changeLableMonth=function(){buttonMonth.innerHTML=listMonth[dateSelected.getMonth()]},changeLableYear=function(){buttonYear.innerHTML=dateSelected.getFullYear()},showStatus=function(t,e,n){clearInterval(timer),t.className="status",t.innerHTML=n,t.classList.add(e),timer=setInterval(function(){t.innerHTML="",t.classList.remove(e)},5e3)},showSelectedMonth=function(){var t=getMonthDay(),e=t.length/7,n=0,a=t[17][1];calendarArea.innerHTML="";for(var d=0;d<e;d++){var o=document.createElement("div");o.classList.add("row");for(var s=0;s<7;s++){var l=document.createElement("div");l.classList.add("col"),t[n][1]!=a&&l.classList.add("unfit");var c=document.createElement("div");c.classList.add("col-date"),c.innerHTML=0==d?listDay[s]+", "+t[n][2]:t[n][2],l.appendChild(c),n++,o.appendChild(l)}calendarArea.appendChild(o)}};buttonFastAdd.addEventListener("click",function(t){pupopFastAdd.classList.toggle("active")}),buttonFastAddCancel.addEventListener("click",function(t){pupopFastAdd.classList.toggle("active"),inputFastAdd.value=""}),buttonFastAddClose.addEventListener("click",function(t){pupopFastAdd.classList.toggle("active")}),buttonFastAddSubmit.addEventListener("click",function(t){""==inputFastAdd.value?showStatus(statusFastAdd,"error","Заполните поле"):showStatus(statusFastAdd,"succses","Запись добавлена")}),buttonEarlier.addEventListener("click",function(t){setEarlierMonth(),changeLableMonth(),changeLableYear(),showSelectedMonth()}),buttonLater.addEventListener("click",function(t){setLaterMonth(),changeLableMonth(),changeLableYear(),showSelectedMonth()}),buttonCurrent.addEventListener("click",function(t){setCurrentDate(),changeLableMonth(),changeLableYear(),showSelectedMonth()}),window.addEventListener("click",function(t){console.log(t.target),t.target==buttonMonth&&pupopMonth.classList.toggle("active"),t.target!=buttonMonth&&pupopMonth.classList.contains("active")&&pupopMonth.classList.remove("active")});